# go-websocket-server
Golang编写的WebSocket服务器，用于提供通用的房间管理、帧同步、状态同步等实时对战支持。

# 启动服务器
如果需要关闭WSS，`wss`参数需要为0
```shell
go run ./main.go --port 8888 --ip 0.0.0.0 --wss 1
```

# WSS
如果要使用`wss`协议时，请下载对应的tls证书（pem/key）文件到根目录，命名为：tls.pem / tls.key，命令行`wss`参数设置为1开启。

# HaxeAPI
https://github.com/rainyt/hxonline

# 功能列表
- [x] 应用区分处理
    - [x] 根据AppID将用户分开（不同的AppId不会互相访问影响）
- [x] 用户管理
    - [x] 登陆注册（使用自创建的唯一id+用户名登陆，这意味着不需要依赖用户数据，只要提供id识别码和用户名都可以登陆） 
    - [x] 更新自定义用户数据
- [x] 全服消息
    - [x] 发送消息到全服消息
    - [x] 开始侦听全服消息下发
    - [x] 取消侦听全服消息下发
    - [x] 全服消息下发
    - [x] 获取全服历史消息列表
- [x] 房间管理
    - [x] 创建房间
    - [x] 加入房间
    - [x] 退出房间
    - [x] 踢出房间（房主操作）
    - [x] 房间锁定
    - [x] 发送房间消息
    - [x] 获取房间信息
    - [x] 房间动态消息（离线、离开、加入、变更等）
    - [x] 房间密码、人数限制
    - [x] 更新房间自定义数据（房主操作）
    - [x] 更新房间信息（房主操作）
    - [x] 房间历史聊天记录
    - [x] 快速加入房间（支持匹配快速加入房间、满人或者无法加入时，会自动创建新的房间）
    - [x] 获取房间列表
- [x] 帧同步
    - [x] 上传帧数据
    - [x] 房间下发帧数据
    - [x] 启动帧同步
    - [x] 停止帧同步
    - [x] 获取指定区域的帧数据
- [x] 状态同步
    - [x] 房间状态同步（全局数据同步，所有用户共享修改）
    - [x] 用户状态同步（单个用户数据同步）
- [x] 匹配
    - [x] 根据规则匹配
        - [x] 可以使用字符串匹配验证
        - [x] 可以使用整数范围匹配验证
        - [x] 可以匹配所需的人数